import{a7 as he,a8 as Ce,a5 as Xe,a0 as Ye,i as $e,j as ke,o as Ie,c as F,d as K,q as M,aB as Re,R as le,b as T,X as Be,e as _e,v as Ve,k as _,s as be,a as w,n as L,m as Ae,V as D,aC as ie,a4 as J,w as G,t as X,x as ge,aF as Ze,W as Pe,aG as ze,aH as Fe,aI as Ke,C as me,D as Oe,aJ as Ee,A as W,aK as q,p as Ue,U as de,N as fe,f as ye,aL as je,ar as qe,aM as xe,K as Je,$ as Ge,J as Qe,aN as pe,S as Me,r as et,h as tt,E as nt,y as at,z as it}from"./index.4bbdb7fe.js";import{u as lt,a as Q,c as Ne,b as ot}from"./index.997e9c32.js";function st(e,u,d){let r=0;const a=e.scrollLeft,t=d===0?1:Math.round(d*1e3/16);function o(){e.scrollLeft+=(u-a)/t,++r<t&&he(o)}o()}function ct(e,u,d,r){let a=Ce(e);const t=a<u,o=d===0?1:Math.round(d*1e3/16),m=(u-a)/o;function g(){a+=m,(t&&a>u||!t&&a<u)&&(a=u),Xe(e,a),t&&a<u||!t&&a>u?he(g):r&&he(r)}g()}function rt(e,u){if(!Ye||!window.IntersectionObserver)return;const d=new IntersectionObserver(t=>{u(t[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&d.observe(e.value)},a=()=>{e.value&&d.unobserve(e.value)};$e(a),ke(a),Ie(r)}const[ut,dt]=F("sticky"),ft={zIndex:L,position:Ae("top"),container:Object,offsetTop:D(0),offsetBottom:D(0)};var vt=K({name:ut,props:ft,emits:["scroll","change"],setup(e,{emit:u,slots:d}){const r=M(),a=Re(r),t=le({fixed:!1,width:0,height:0,transform:0}),o=T(()=>Be(e.position==="top"?e.offsetTop:e.offsetBottom)),m=T(()=>{const{fixed:s,height:x,width:C}=t;if(s)return{width:`${C}px`,height:`${x}px`}}),g=T(()=>{if(!t.fixed)return;const s=_e(Ve(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${o.value}px`});return t.transform&&(s.transform=`translate3d(0, ${t.transform}px, 0)`),s}),i=s=>u("scroll",{scrollTop:s,isFixed:t.fixed}),f=()=>{if(!r.value||ie(r))return;const{container:s,position:x}=e,C=J(r),b=Ce(window);if(t.width=C.width,t.height=C.height,x==="top")if(s){const $=J(s),v=$.bottom-o.value-t.height;t.fixed=o.value>C.top&&$.bottom>0,t.transform=v<0?v:0}else t.fixed=o.value>C.top;else{const{clientHeight:$}=document.documentElement;if(s){const v=J(s),N=$-v.top-o.value-t.height;t.fixed=$-o.value<C.bottom&&$>v.top,t.transform=N<0?-N:0}else t.fixed=$-o.value<C.bottom}i(b)};return _(()=>t.fixed,s=>u("change",s)),be("scroll",f,{target:a,passive:!0}),rt(r,f),()=>{var s;return w("div",{ref:r,style:m.value},[w("div",{class:dt({fixed:t.fixed}),style:g.value},[(s=d.default)==null?void 0:s.call(d)])])}}});const ht=G(vt),[gt,Se]=F("tab");var bt=K({name:gt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:L,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:X},setup(e,{slots:u}){const d=T(()=>{const a={},{type:t,color:o,disabled:m,isActive:g,activeColor:i,inactiveColor:f}=e;o&&t==="card"&&(a.borderColor=o,m||(g?a.backgroundColor=o:a.color=o));const x=g?i:f;return x&&(a.color=x),a}),r=()=>{const a=w("span",{class:Se("text",{ellipsis:!e.scrollable})},[u.title?u.title():e.title]);return e.dot||ge(e.badge)&&e.badge!==""?w(Ze,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>w("div",{id:e.id,role:"tab",class:[Se([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:d.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}});const[De,ne]=F("swipe"),mt={loop:X,width:L,height:L,vertical:Boolean,autoplay:D(0),duration:D(500),touchable:X,lazyRender:Boolean,initialSwipe:D(0),indicatorColor:String,showIndicators:X,stopPropagation:X},Le=Symbol(De);var wt=K({name:De,props:mt,emits:["change"],setup(e,{emit:u,slots:d}){const r=M(),a=M(),t=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),o=lt(),{children:m,linkChildren:g}=Pe(Le),i=T(()=>m.length),f=T(()=>t[e.vertical?"height":"width"]),s=T(()=>e.vertical?o.deltaY.value:o.deltaX.value),x=T(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-f.value*i.value:0),C=T(()=>Math.ceil(Math.abs(x.value)/f.value)),b=T(()=>i.value*f.value),$=T(()=>(t.active+i.value)%i.value),v=T(()=>{const c=e.vertical?"vertical":"horizontal";return o.direction.value===c}),N=T(()=>{const c={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(f.value){const S=e.vertical?"height":"width",y=e.vertical?"width":"height";c[S]=`${b.value}px`,c[y]=e[y]?`${e[y]}px`:""}return c}),U=c=>{const{active:S}=t;return c?e.loop?de(S+c,-1,i.value):de(S+c,0,C.value):S},z=(c,S=0)=>{let y=c*f.value;e.loop||(y=Math.min(y,-x.value));let R=S-y;return e.loop||(R=de(R,x.value,0)),R},A=({pace:c=0,offset:S=0,emitChange:y})=>{if(i.value<=1)return;const{active:R}=t,n=U(c),l=z(n,S);if(e.loop){if(m[0]&&l!==x.value){const h=l<x.value;m[0].setOffset(h?b.value:0)}if(m[i.value-1]&&l!==0){const h=l>0;m[i.value-1].setOffset(h?-b.value:0)}}t.active=n,t.offset=l,y&&n!==R&&u("change",$.value)},H=()=>{t.swiping=!0,t.active<=-1?A({pace:i.value}):t.active>=i.value&&A({pace:-i.value})},p=()=>{H(),o.reset(),q(()=>{t.swiping=!1,A({pace:-1,emitChange:!0})})},Y=()=>{H(),o.reset(),q(()=>{t.swiping=!1,A({pace:1,emitChange:!0})})};let O;const V=()=>clearTimeout(O),E=()=>{V(),e.autoplay>0&&i.value>1&&(O=setTimeout(()=>{Y(),E()},+e.autoplay))},P=(c=+e.initialSwipe)=>{if(!r.value)return;const S=()=>{var y,R;if(!ie(r)){const n={width:r.value.offsetWidth,height:r.value.offsetHeight};t.rect=n,t.width=+((y=e.width)!=null?y:n.width),t.height=+((R=e.height)!=null?R:n.height)}i.value&&(c=Math.min(i.value-1,c)),t.active=c,t.swiping=!0,t.offset=z(c),m.forEach(n=>{n.setOffset(0)}),E()};ie(r)?W().then(S):S()},j=()=>P(t.active);let ee;const oe=c=>{!e.touchable||(o.start(c),ee=Date.now(),V(),H())},se=c=>{e.touchable&&t.swiping&&(o.move(c),v.value&&(!e.loop&&(t.active===0&&s.value>0||t.active===i.value-1&&s.value<0)||(Ue(c,e.stopPropagation),A({offset:s.value}))))},te=()=>{if(!e.touchable||!t.swiping)return;const c=Date.now()-ee,S=s.value/c;if((Math.abs(S)>.25||Math.abs(s.value)>f.value/2)&&v.value){const R=e.vertical?o.offsetY.value:o.offsetX.value;let n=0;e.loop?n=R>0?s.value>0?-1:1:0:n=-Math[s.value>0?"ceil":"floor"](s.value/f.value),A({pace:n,emitChange:!0})}else s.value&&A({pace:0});t.swiping=!1,E()},ce=(c,S={})=>{H(),o.reset(),q(()=>{let y;e.loop&&c===i.value?y=t.active===0?0:c:y=c%i.value,S.immediate?q(()=>{t.swiping=!1}):t.swiping=!1,A({pace:y-t.active,emitChange:!0})})},re=(c,S)=>{const y=S===$.value,R=y?{backgroundColor:e.indicatorColor}:void 0;return w("i",{style:R,class:ne("indicator",{active:y})},null)},ue=()=>{if(d.indicator)return d.indicator({active:$.value,total:i.value});if(e.showIndicators&&i.value>1)return w("div",{class:ne("indicators",{vertical:e.vertical})},[Array(i.value).fill("").map(re)])};return Q({prev:p,next:Y,state:t,resize:j,swipeTo:ce}),g({size:f,props:e,count:i,activeIndicator:$}),_(()=>e.initialSwipe,c=>P(+c)),_(i,()=>P(t.active)),_(()=>e.autoplay,E),_([ze,Fe],j),_(Ke(),c=>{c==="visible"?E():V()}),me(P),Oe(()=>P(t.active)),Ee(()=>P(t.active)),$e(V),ke(V),be("touchmove",se,{target:a}),()=>{var c;return w("div",{ref:r,class:ne()},[w("div",{ref:a,style:N.value,class:ne("track",{vertical:e.vertical}),onTouchstartPassive:oe,onTouchend:te,onTouchcancel:te},[(c=d.default)==null?void 0:c.call(d)]),ue()])}}});const yt=G(wt),[xt,Te]=F("tabs");var St=K({name:xt,props:{count:fe(Number),inited:Boolean,animated:Boolean,duration:fe(L),swipeable:Boolean,lazyRender:Boolean,currentIndex:fe(Number)},emits:["change"],setup(e,{emit:u,slots:d}){const r=M(),a=m=>u("change",m),t=()=>{var m;const g=(m=d.default)==null?void 0:m.call(d);return e.animated||e.swipeable?w(yt,{ref:r,loop:!1,class:Te("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[g]}):g},o=m=>{const g=r.value;g&&g.state.active!==m&&g.swipeTo(m,{immediate:!e.inited})};return _(()=>e.currentIndex,o),me(()=>{o(e.currentIndex)}),Q({swipeRef:r}),()=>w("div",{class:Te("content",{animated:e.animated||e.swipeable})},[t()])}});const[He,ae]=F("tabs"),Tt={type:Ae("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:D(0),duration:D(.3),animated:Boolean,ellipsis:X,swipeable:Boolean,scrollspy:Boolean,offsetTop:D(0),background:String,lazyRender:X,lineWidth:L,lineHeight:L,beforeChange:Function,swipeThreshold:D(5),titleActiveColor:String,titleInactiveColor:String},We=Symbol(He);var Ct=K({name:He,props:Tt,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:u,slots:d}){let r,a,t;const o=M(),m=M(),g=M(),i=M(),f=Ne(),s=Re(o),[x,C]=ot(),{children:b,linkChildren:$}=Pe(We),v=le({inited:!1,position:"",lineStyle:{},currentIndex:-1}),N=T(()=>b.length>e.swipeThreshold||!e.ellipsis||e.shrink),U=T(()=>({borderColor:e.color,background:e.background})),z=(n,l)=>{var h;return(h=n.name)!=null?h:l},A=T(()=>{const n=b[v.currentIndex];if(n)return z(n,v.currentIndex)}),H=T(()=>Be(e.offsetTop)),p=T(()=>e.sticky?H.value+r:0),Y=n=>{const l=m.value,h=x.value;if(!N.value||!l||!h||!h[v.currentIndex])return;const k=h[v.currentIndex].$el,I=k.offsetLeft-(l.offsetWidth-k.offsetWidth)/2;st(l,I,n?0:+e.duration)},O=()=>{const n=v.inited;W(()=>{const l=x.value;if(!l||!l[v.currentIndex]||e.type!=="line"||ie(o.value))return;const h=l[v.currentIndex].$el,{lineWidth:k,lineHeight:I}=e,B=h.offsetLeft+h.offsetWidth/2,Z={width:ye(k),backgroundColor:e.color,transform:`translateX(${B}px) translateX(-50%)`};if(n&&(Z.transitionDuration=`${e.duration}s`),ge(I)){const we=ye(I);Z.height=we,Z.borderRadius=we}v.lineStyle=Z})},V=n=>{const l=n<v.currentIndex?-1:1;for(;n>=0&&n<b.length;){if(!b[n].disabled)return n;n+=l}},E=(n,l)=>{const h=V(n);if(!ge(h))return;const k=b[h],I=z(k,h),B=v.currentIndex!==null;v.currentIndex!==h&&(v.currentIndex=h,l||Y(),O()),I!==e.active&&(u("update:active",I),B&&u("change",I,k.title)),t&&!e.scrollspy&&qe(Math.ceil(xe(o.value)-H.value))},P=(n,l)=>{const h=b.find((I,B)=>z(I,B)===n),k=h?b.indexOf(h):0;E(k,l)},j=(n=!1)=>{if(e.scrollspy){const l=b[v.currentIndex].$el;if(l&&s.value){const h=xe(l,s.value)-p.value;a=!0,ct(s.value,h,n?0:+e.duration,()=>{a=!1})}}},ee=(n,l,h)=>{const{title:k,disabled:I}=b[l],B=z(b[l],l);I?u("disabled",B,k):(Qe(e.beforeChange,{args:[B],done:()=>{E(l),j()}}),u("click",B,k),pe(n)),u("click-tab",{name:B,title:k,event:h,disabled:I})},oe=n=>{t=n.isFixed,u("scroll",n)},se=n=>{W(()=>{P(n),j(!0)})},te=()=>{for(let n=0;n<b.length;n++){const{top:l}=J(b[n].$el);if(l>p.value)return n===0?0:n-1}return b.length-1},ce=()=>{if(e.scrollspy&&!a){const n=te();E(n)}},re=()=>b.map((n,l)=>w(bt,Je({key:n.id,id:`${f}-${l}`,ref:C(l),type:e.type,color:e.color,style:n.titleStyle,class:n.titleClass,shrink:e.shrink,isActive:l===v.currentIndex,controls:n.id,scrollable:N.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:h=>ee(n,l,h)},Ge(n,["dot","badge","title","disabled","showZeroBadge"])),{title:n.$slots.title})),ue=()=>{if(e.type==="line"&&b.length)return w("div",{class:ae("line"),style:v.lineStyle},null)},c=()=>{var n,l,h;const{type:k,border:I,sticky:B}=e,Z=[w("div",{ref:B?void 0:g,class:[ae("wrap"),{[je]:k==="line"&&I}]},[w("div",{ref:m,role:"tablist",class:ae("nav",[k,{shrink:e.shrink,complete:N.value}]),style:U.value,"aria-orientation":"horizontal"},[(n=d["nav-left"])==null?void 0:n.call(d),re(),ue(),(l=d["nav-right"])==null?void 0:l.call(d)])]),(h=d["nav-bottom"])==null?void 0:h.call(d)];return B?w("div",{ref:g},[Z]):Z};_([()=>e.color,ze],O),_(()=>e.active,n=>{n!==A.value&&P(n)}),_(()=>b.length,()=>{v.inited&&(P(e.active),O(),W(()=>{Y(!0)}))});const S=()=>{P(e.active,!0),W(()=>{v.inited=!0,g.value&&(r=J(g.value).height),Y(!0)})},y=(n,l)=>u("rendered",n,l);return Q({resize:()=>{O(),W(()=>{var n,l;return(l=(n=i.value)==null?void 0:n.swipeRef.value)==null?void 0:l.resize()})},scrollTo:se}),Oe(O),Ee(O),Ie(S),be("scroll",ce,{target:s,passive:!0}),$({id:f,props:e,setLine:O,onRendered:y,currentName:A,scrollIntoView:Y}),()=>w("div",{ref:o,class:ae([e.type])},[e.sticky?w(ht,{container:o.value,offsetTop:H.value,onScroll:oe},{default:()=>[c()]}):c(),w(St,{ref:i,count:b.length,inited:v.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:v.currentIndex,onChange:E},{default:()=>{var n;return[(n=d.default)==null?void 0:n.call(d)]}})])}});const $t=Symbol(),[kt,It]=F("swipe-item");var Rt=K({name:kt,setup(e,{slots:u}){let d;const r=le({offset:0,inited:!1,mounted:!1}),{parent:a,index:t}=Me(Le);if(!a)return;const o=T(()=>{const i={},{vertical:f}=a.props;return a.size.value&&(i[f?"height":"width"]=`${a.size.value}px`),r.offset&&(i.transform=`translate${f?"Y":"X"}(${r.offset}px)`),i}),m=T(()=>{const{loop:i,lazyRender:f}=a.props;if(!f||d)return!0;if(!r.mounted)return!1;const s=a.activeIndicator.value,x=a.count.value-1,C=s===0&&i?x:s-1,b=s===x&&i?0:s+1;return d=t.value===s||t.value===C||t.value===b,d}),g=i=>{r.offset=i};return me(()=>{W(()=>{r.mounted=!0})}),Q({setOffset:g}),()=>{var i;return w("div",{class:It(),style:o.value},[m.value?(i=u.default)==null?void 0:i.call(u):null])}}});const Bt=G(Rt),[_t,ve]=F("tab"),At=_e({},et,{dot:Boolean,name:L,badge:L,title:String,disabled:Boolean,titleClass:tt,titleStyle:[String,Object],showZeroBadge:X});var Pt=K({name:_t,props:At,setup(e,{slots:u}){const d=Ne(),r=M(!1),{parent:a,index:t}=Me(We);if(!a)return;const o=()=>{var f;return(f=e.name)!=null?f:t.value},m=()=>{r.value=!0,a.props.lazyRender&&W(()=>{a.onRendered(o(),e.title)})},g=T(()=>{const f=o()===a.currentName.value;return f&&!r.value&&m(),f}),i=M(!g.value);return _(g,f=>{f?i.value=!1:q(()=>{i.value=!0})}),_(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),nt($t,g),()=>{var f;const s=`${a.id}-${t.value}`,{animated:x,swipeable:C,scrollspy:b,lazyRender:$}=a.props;if(!u.default&&!x)return;const v=b||g.value;if(x||C)return w(Bt,{id:d,role:"tabpanel",class:ve("panel-wrapper",{inactive:i.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":s},{default:()=>{var z;return[w("div",{class:ve("panel")},[(z=u.default)==null?void 0:z.call(u)])]}});const U=r.value||b||!$?(f=u.default)==null?void 0:f.call(u):null;return Q({id:d}),at(w("div",{id:d,role:"tabpanel",class:ve("panel"),tabindex:v?0:-1,"aria-labelledby":s},[U]),[[it,v]])}}});const Et=G(Pt),Mt=G(Ct);export{Bt as S,Et as T,Mt as a,yt as b};
