抽取公用的逻辑存在这里